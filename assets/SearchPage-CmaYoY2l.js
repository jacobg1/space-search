import{d as _,i as b,o as s,c as o,a as r,b as n,w as L,e as C,v as T,F as g,n as f,R as F,r as m,f as d,g as V,h as A,j as B,t as c}from"./index-CYh_mat3.js";const N=_({name:"SearchForm",props:{makeSearch:Function},setup(){return{getSpaceSearch:b("getSpaceSearch")}},data(){return{searchTerm:"",resultLength:null,noTerm:!1,loading:!1}},methods:{async getSearch(e){if(this.noTerm=!1,e&&this.getSpaceSearch&&this.makeSearch){this.loading=!0;const i=await this.getSpaceSearch(e);this.loading=!1,this.resultLength=i.length,this.makeSearch(i)}else this.noTerm=!0}}}),w=(e,i)=>{const l=e.__vccOpts||e;for(const[h,p]of i)l[h]=p;return l},M={key:0,class:"form-error"},P={key:1,class:"form-error"},j={class:"search-form"},D=["disabled"];function E(e,i,l,h,p,k){return s(),o(g,null,[e.noTerm&&!e.searchTerm?(s(),o("p",M,"Please enter search term in input field")):r("",!0),!e.noTerm&&e.resultLength===0?(s(),o("p",P,"No results please try again")):r("",!0),n("div",j,[n("form",{onSubmit:i[2]||(i[2]=L(()=>{},["prevent"]))},[C(n("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=a=>e.searchTerm=a),placeholder:"Enter search"},null,512),[[T,e.searchTerm]]),n("button",{disabled:e.loading,class:"shutter-button no-active",type:"submit",onClick:i[1]||(i[1]=a=>e.getSearch(e.searchTerm))}," Go! ",8,D)],32)])],64)}const G=w(N,[["render",E]]),K=_({name:"SwitchView",props:{makeSwitch:Function,listActive:Boolean}}),z={class:"switch-view"};function O(e,i,l,h,p,k){return s(),o("div",z,[n("button",{class:f([{active:e.listActive},"shutter-button new-background"]),onClick:i[0]||(i[0]=a=>e.makeSwitch&&e.makeSwitch(!0))}," List ",2),n("button",{class:f([{active:!e.listActive},"shutter-button"]),onClick:i[1]||(i[1]=a=>e.makeSwitch&&e.makeSwitch(!1))}," Grid ",2)])}const R=w(K,[["render",O]]),U=_({name:"SearchPage",components:{SearchForm:G,SwitchView:R,MasonryWall:F},data(){return{results:[],keywords:null,isList:!1}},methods:{handleSearch(e){this.results=e},handleSwitch(e){this.isList=e}}}),W={class:"search"},q=n("h2",{class:"title"},"Space Search",-1),H={key:0,class:"gallery"},I={class:"gallery-item"},J={key:0},Q={key:1,class:"grid-lightbox-holder"},X={key:2,class:"description"},Y={key:3,class:"keyword-holder"},Z=n("p",{class:"keyword-title"},"Keywords:",-1),x={class:"grid-keywords"},ee={key:1},te={key:0,class:"list-container"},se={key:0},oe={key:1,class:"description"},ie={key:2,class:"keyword-holder"},re=n("p",{class:"keyword-title"},"Keywords:",-1),ne={key:1,class:"list-image-container"},ae={height:"100%",width:"100%"};function ce(e,i,l,h,p,k){const a=m("SearchForm"),v=m("SwitchView"),S=m("silent-box"),$=m("masonry-wall");return s(),o("div",W,[q,d(a,{makeSearch:e.handleSearch},null,8,["makeSearch"]),d(v,{listActive:e.isList,makeSwitch:e.handleSwitch},null,8,["listActive","makeSwitch"]),e.isList?r("",!0):(s(),o("div",H,[d($,{items:e.results,"max-columns":6,"column-width":290,gap:20},V({_:2},[e.results?{name:"default",fn:A(({item:t})=>{var u;return[n("div",I,[t.title?(s(),o("h2",J,c(t.title),1)):r("",!0),t.href?(s(),o("div",Q,[d(S,{image:{src:t.href,description:(u=t.title)==null?void 0:u.toLowerCase(),thumbnail:t.href,alt:t.title}},null,8,["image"])])):r("",!0),t.description_508&&t.description_508!==t.title?(s(),o("p",X,c(t.description_508.toLowerCase()),1)):r("",!0),t.keywords?(s(),o("div",Y,[Z,n("p",x,c(t.keywords),1)])):r("",!0)])]}),key:"0"}:void 0]),1032,["items"])])),e.isList?(s(),o("div",ee,[(s(!0),o(g,null,B(e.results,(t,u)=>{var y;return s(),o("div",{id:"list",key:u},[t?(s(),o("div",te,[t.title?(s(),o("h2",se,c(t.title),1)):r("",!0),t.description_508&&t.description_508!==t.title?(s(),o("p",oe,c(t.description_508.toLowerCase()),1)):r("",!0),t.keywords?(s(),o("div",ie,[re,n("p",null,c(t.keywords),1)])):r("",!0)])):r("",!0),t.href?(s(),o("div",ne,[n("div",ae,[d(S,{image:{src:t.href,description:(y=t.title)==null?void 0:y.toLowerCase(),thumbnail:t.href,alt:t.title}},null,8,["image"])])])):r("",!0)])}),128))])):r("",!0)])}const de=w(U,[["render",ce]]);export{de as default};
